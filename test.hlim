decl(main {
    // r0 is supplied by function arg
    decl(a r0)
    loop(a {
        print("a is " a ", " )
        print("a*a is " a*a "\n")
        asn(a a-1)
    }())
})

main(10)

// If it prints Nil the scoping works
print(a "\n")

decl(x 10)
decl(f { print(x "\n") })
decl(g { decl(x 5) f() })
g() // Should print 10

decl(print_if_even {
    if(r0%2 == 0 print(r0 "\n"))
})

print_if_even(12)

