decl(main {
        decl(a 10)
        loop(a {
            print("a is " a ", " )
            print("a*a is " a*a "\n")
            asn(a a-1)
        }())
})

main()

// If it prints Nil the scoping works
print(a "\n")

decl(x 10)
decl(f { print(x) })
decl(g { decl(x 5) f() })
g() // Should print 10

